CentOS6以下系统（含）使用watchtmp + cron来实现定时清理临时文件的效果，这点在CentOS7发生了变化。

在CentOS7下，系统使用systemd管理易变与临时文件，与之相关的系统服务有3个：

![img](https://img2018.cnblogs.com/blog/607090/201811/607090-20181105085822264-2023664144.png)

相关的配置文件也有3个地方：

![img](https://img2018.cnblogs.com/blog/607090/201811/607090-20181105085841506-1509911930.png)

/tmp目录的清理规则主要取决于/usr/lib/tmpfiles.d/tmp.conf文件的设定，默认的配置内容为：

![img](https://img2018.cnblogs.com/blog/607090/201811/607090-20181105085927537-1028106131.png)

我们可以配置这个文件，比如你不想让系统自动清理/tmp下以tomcat开头的目录，那么增加下面这条内容到配置文件中即可：

![img](https://img2018.cnblogs.com/blog/607090/201811/607090-20181105085958311-2128763519.png)